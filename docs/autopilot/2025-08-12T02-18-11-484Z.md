```markdown
# Integration Plan for Gmail OAuth and Unread Count

## Overview
This document outlines a minimal, safe change to integrate Gmail OAuth for user authentication and to retrieve the unread email count from the user's Gmail account. The goal is to enhance user experience by allowing them to access their unread email count directly from our application.

## Steps to Implement

### 1. Set Up Google Cloud Project
- Create a new project in the [Google Cloud Console](https://console.cloud.google.com/).
- Enable the Gmail API for the project.
- Create OAuth 2.0 credentials:
  - Navigate to "APIs & Services" > "Credentials".
  - Click on "Create Credentials" and select "OAuth client ID".
  - Configure the consent screen and set the application type to "Web application".

### 2. Install Required Libraries
Add the necessary libraries to your project. If using Node.js, you can install the `googleapis` package:

```bash
npm install googleapis
```

### 3. Implement OAuth Flow
Create a new file `oauth.js` under `docs/autopilot/` to handle the OAuth flow.

```javascript
const { google } = require('googleapis');

const oauth2Client = new google.auth.OAuth2(
  YOUR_CLIENT_ID,
  YOUR_CLIENT_SECRET,
  YOUR_REDIRECT_URL
);

// Generate the URL for consent
const authUrl = oauth2Client.generateAuthUrl({
  access_type: 'offline',
  scope: ['https://www.googleapis.com/auth/gmail.readonly'],
});

// Redirect user to authUrl to get authorization
console.log('Authorize this app by visiting this url:', authUrl);
```

### 4. Retrieve Unread Count
Once the user has authenticated, use the access token to fetch the unread email count.

```javascript
async function getUnreadCount(auth) {
  const gmail = google.gmail({ version: 'v1', auth });
  const res = await gmail.users.messages.list({
    userId: 'me',
    q: 'is:unread',
  });
  return res.data.resultSizeEstimate;
}
```

### 5. Testing
- Test the OAuth flow by running the application and ensuring that the user can authenticate successfully.
- Verify that the unread count is retrieved correctly.

## Conclusion
This plan outlines the initial steps to integrate Gmail OAuth and retrieve the unread email count. Future enhancements can include error handling, token storage, and user interface updates to display the unread count.
```
